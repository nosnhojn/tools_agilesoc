{% extends 'funcov/base.html' %}

{% load staticfiles %}

{% block nav_block %}

<div class="bs-example">
    <ul class="nav nav-tabs">
        <li id="nav-covergroup" class="active"><a data-toggle="tab" href="#covergroup">My Covergroup</a></li>
        <li id="nav-params"><a data-toggle="tab" href="#params">Bus Properties</a></li>
        <li id="nav-coverpoint"><a data-toggle="tab" href="#coverpoint">Add Coverpoint</a></li>
        <li id="nav-cross"><a data-toggle="tab" href="#cross">Add Cross Cover</a></li>
    </ul>
</div>

{% endblock %}



{% block content_block %}

    <script>
      function next(tab) {
        var nav = "#nav-" + tab;
        var tab = "#" + tab;
        $('.nav li').removeClass('active');
        $(nav).addClass('active');
        $('.tab-pane').removeClass('active');
        $(tab).addClass('active in');
      }
    </script>

    <form id="category_form" method="post" action="{% url 'editor' %}">
  
      {% csrf_token %}

      <input name="type" value="{{ type }}" type="hidden"/>

      <div class="tab-content">
        <div id="covergroup" class="tab-pane fade in active">
          <h3>What {{ name }} coverpoints are you interested in?</h3>

          <div class="row">
            <div class="col-lg-12">
              <table class="table table-striped text-left">
                <thead>
                  <tr>
                    <th>Enabled</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Sensitivity</th>
                  </tr>
                </thead>
                <tbody>
                  {% for c in covergroups %}
                    <tr>
                      <td class="text-center"><input name="covergroup" value="{{ c.name }}" type="checkbox" checked="checked"></input></td>
                      <td>{{ c.name }}</td>
                      <td>{{ c.desc }}</td>
                      <td>{{ c.sensitivity }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
          <a type="button" onClick="next('coverpoint')" class="btn btn-success btn-lg">Add Coverpoint</a>
          <a type="button" onClick="next('cross')" class="btn btn-success btn-lg">Add Cross Cover</a>
          <button type="submit" class="btn btn-success btn-lg">Download</button>
        </div>

        <div id="params" class="tab-pane fade">
          <h3>How are your {{ name }} ports configured?</h3>

          <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
              <table class="table table-striped text-left">
                <thead>
                  <tr>
                    <th>Enabled</th>
                    <th>Port Name</th>
                    <th>Bus Width</th>
                  </tr>
                </thead>
                <tbody>
                  {% for p in parameters %}
                    <tr>
                      <td>{{ p.name }}</td>
                      <td>{{ p.name.label }}</td>
                      <td>
                        {% if p.select != None %}
                        <select class="form-control selectpicker" style="width:100px">
                          {% for val in p.values %}
                            <option>{{ val }}</option>
                          {% endfor %}
                        </select>
                        {% else %}
                        -
                        {% endif %}
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
          <a type="button" onClick="next('covergroup')" class="btn btn-success btn-lg">Save Settings</a>
        </div>

        <div id="coverpoint" class="tab-pane fade">
          <h3>Coming Soon... Defining Custom Coverpoints</h3>
          <p>
            <img src="../../static/images/coverpoint-not-done.png" style="width:100%"></a>
          </p>

          <a type="button" onClick="next('covergroup')" class="btn btn-success btn-lg">Back to Covergroup</a>
        </div>

        <div id="cross" class="tab-pane fade">
          <h3>Coming Soon... Defining Custom Crosses</h3>
          <p>
            <img src="../../static/images/cross-not-done.png" style="width:40%"></a>
          </p>
          <a type="button" onClick="next('covergroup')" class="btn btn-success btn-lg">Back to Covergroup</a>
        </div>
      </div>
    </form>

{% endblock %}
